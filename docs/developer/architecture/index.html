<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Webaverse Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Webaverse Blog Atom Feed"><title data-react-helmet="true">Architecture Overview | Webaverse</title><meta data-react-helmet="true" property="og:url" content="https://docs.webaverse.com/docs/developer/architecture"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Architecture Overview | Webaverse"><meta data-react-helmet="true" name="description" content="View miro//miro.com/app/board/o9J_lbA81ag=/"><meta data-react-helmet="true" property="og:description" content="View miro//miro.com/app/board/o9J_lbA81ag=/"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.webaverse.com/docs/developer/architecture"><link data-react-helmet="true" rel="alternate" href="https://docs.webaverse.com/docs/developer/architecture" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.webaverse.com/docs/developer/architecture" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.89d5d893.css">
<link rel="preload" href="/assets/js/runtime~main.49bbc157.js" as="script">
<link rel="preload" href="/assets/js/main.537e196f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1boX">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/favicon.ico" alt="Webaverse" class="themedImage_3oOy themedImage--light_3ouy navbar__logo"><img src="/img/favicon.ico" alt="Webaverse" class="themedImage_3oOy themedImage--dark_3zJb navbar__logo"><strong class="navbar__title">Webaverse</strong></a><a href="https://webaverse.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dashboard</a><a href="https://blog.webaverse.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/webaverse" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Github</a><a href="https://discord.gg/R5wqYhvv53" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord</a><a href="https://www.notion.so/webaverse/Webaverse-is-Hiring-8fb49c069c2f450f93ebb911149f21bd" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Careers</a></div><div class="navbar__items navbar__items--right"><div class="searchWrapper_3itR"></div><div class="react-toggle displayOnlyInLargeViewport_Jf15 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_2iFN">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_2iFN">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/favicon.ico" alt="Webaverse" class="themedImage_3oOy themedImage--light_3ouy navbar__logo"><img src="/img/favicon.ico" alt="Webaverse" class="themedImage_3oOy themedImage--dark_3zJb navbar__logo"><strong class="navbar__title">Webaverse</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://webaverse.com" target="_blank" rel="noopener noreferrer" class="menu__link">Dashboard</a></li><li class="menu__list-item"><a href="https://blog.webaverse.com" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/webaverse" target="_blank" rel="noopener noreferrer" class="menu__link">Github</a></li><li class="menu__list-item"><a href="https://discord.gg/R5wqYhvv53" target="_blank" rel="noopener noreferrer" class="menu__link">Discord</a></li><li class="menu__list-item"><a href="https://www.notion.so/webaverse/Webaverse-is-Hiring-8fb49c069c2f450f93ebb911149f21bd" target="_blank" rel="noopener noreferrer" class="menu__link">Careers</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_3zOJ"><div class="docSidebarContainer_G8MK" role="complementary"><div class="sidebar_1tWv"><div class="menu menu--responsive thin-scrollbar menu_1Iah"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1woU" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Webaverse</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/index">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webaverse/silk">SILK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webaverse/items">Items</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webaverse/avatars">Avatars</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webaverse/worlds">Worlds</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webaverse/parcels">Parcels</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webaverse/whitepaper">Whitepaper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webaverse/faq">FAQ</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Bots</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webaverse/discord-bot">Discord Bot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webaverse/twitter-bot">Twitter Bot</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Market</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/market/silk-guide">How To Get SILK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/market/nfts-guide">How To Buy And Sell NFTs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/market/matic-guide">Matic Marketplace Instructions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Create</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/mint">Mint NFTs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/mint-discord">Mint NFTs in Discord</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/mint-html">HTML NFTs</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Season 0: Genesis</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/guidelines">Submission Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">3D Models</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/import-blender">Import From Blender</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/bake-physics">Bake Physics For 3D Model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/multiple-animations">Export Multiple Animations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/import-magicavoxel">Import From MagicaVoxel</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Avatars</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/import-vroid">Import From VRoid</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/import-meebit">Import Meebits</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/wearables">Mint Avatar Wearables</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Weapons</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/sword">Swords</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/pickaxe">Pickaxe</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/guns">Guns</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Pets and Vehicles</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/pets">Pets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/mounts">Mounts and Vehicles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create/hoverboards">Hoverboards</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Developer</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/developer/architecture">Architecture Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">XRPackage</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developer/xrpackage-overview">What is XRPackage?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developer/creating-an-xrpk">Create An XRPackage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developer/xrpackage-design-guidelines">Design Guidelines</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developer/monetization">Add Monetization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developer/examples">Examples</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developer/runtime-api">Runtime API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developer/manifest-api">Manifest API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developer/monetization-api">Monetization API</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3Zec"><div class="container padding-vert--lg docItemWrapper_tWa0"><div class="row"><div class="col docItemCol_2q91"><div class="docItemContainer_37q2"><article><header><h1 class="docTitle_1i6Y">Architecture Overview</h1></header><div class="markdown"><p>View miro: <a href="https://miro.com/app/board/o9J_lbA81ag=/" target="_blank" rel="noopener noreferrer">https://miro.com/app/board/o9J_lbA81ag=/</a></p><ul><li><a href="https://github.com/webaverse/ethereum-bot" target="_blank" rel="noopener noreferrer">https://github.com/webaverse/ethereum-bot</a> -- discord client</li><li><a href="https://github.com/webaverse/app" target="_blank" rel="noopener noreferrer">https://github.com/webaverse/app</a> -- front end game app</li><li><a href="https://github.com/webaverse/api-backend" target="_blank" rel="noopener noreferrer">https://github.com/webaverse/api-backend</a> -- API backend</li><li><a href="https://github.com/webaverse/redis-server" target="_blank" rel="noopener noreferrer">https://github.com/webaverse/redis-server</a> -- Redis server</li><li><a href="https://github.com/webaverse/ipfs-backend" target="_blank" rel="noopener noreferrer">https://github.com/webaverse/ipfs-backend</a> -- IPFS server</li><li><a href="https://github.com/webaverse/contracts" target="_blank" rel="noopener noreferrer">https://github.com/webaverse/contracts</a> -- contracts and deployment with truffle</li></ul><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1Ezv" id="minting-flow"></a>Minting Flow<a class="hash-link" href="#minting-flow" title="Direct link to heading">#</a></h2><p>This is what happens when a user uploads a file to a Webaverse interface be minted as a NFT.</p><ol><li>User logs into website through Metamask, Discord, or Email or joins a Discord server with the NFT bot.</li><li>Uploads files to minting interface (jpg, png, gif, mp3, mp4, webm, glb, VRM, WBN)</li><li>The content uploads to IPFS. Webaverse runs its own pinning server.</li></ol><p><img src="/assets/images/minting-flow-97704b9c911cb8614c32ded5e4d95887.jpg">
<a target="_blank" href="/assets/files/minting-flow2-62674ed5edf40c2f47f5242c7ea3b543.jpg">Link to vertical view</a></p><p>After minting, the preview server captures a preview of the NFT and generates a trading card format. To learn more see <a href="/docs/developer/preview-flow">preview flow</a>.</p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1Ezv" id="transfer-flow"></a>Transfer Flow<a class="hash-link" href="#transfer-flow" title="Direct link to heading">#</a></h2><p>This is what happens when you want to transfer a NFT from the sidechain over to other blockchains like Polygon (previously Matic) and Ethereum mainnet.</p><ol><li>Start with NFT that&#x27;s on the Webaverse sidechain in your inventory</li><li>Hit &quot;Current Location&quot; to go to transfer menu, for this example can select Polygon</li><li>Transfer will call the Deposit() function on the smart contract to the sidechain</li><li>Get back transaction hash, Signing Oracle will say whether some fact of it is true or false</li><li>Whatever answer is, will signs off on that fact with ECDSA signature</li><li>The smart contract will then call Withdraw() to Polygon Network</li><li>The item will now be visible on <a href="https://opensea.io" target="_blank" rel="noopener noreferrer">Opensea.io</a> with the Matic tag</li></ol><p><img src="/assets/images/transfer-flow-1f4fcfe2e1f01b0af5a961a8a6cd7fd4.jpg">
<a target="_blank" href="/assets/files/transfer-flow2-8af21aa4bfda9cf763595e821793ba1e.jpg">Link to vertical view</a></p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1Ezv" id="loading-flow"></a>Loading Flow<a class="hash-link" href="#loading-flow" title="Direct link to heading">#</a></h2><p>This flow describes how the engine accesses and loads tokens. The loading and preview flow are both quite similar to each other, main difference being one loads in client for users while the other loads in a server for capturing preview media.</p><ol><li>Starts with the user-agent (Webaverse website or NFT Discord bot) that wants token data.</li><li>Client request a token json which intiates sidechain sending token events to the Redis server.</li><li>The API server sends the token json containing an IPFS hash to the files</li><li>The IPFS hash is extracted from the token json to the IPFS server</li><li>The raw files linked from the IPFS hash (jpg, png, gif, mp3, mp4, webm, glb, VRM, WBN) get loaded into the interface (virtual world, Opensea).</li></ol><p><img src="/assets/images/loading-flow-26453c7aee6752bec66d1a51a0824a64.jpg">
<a target="_blank" href="/assets/files/loading-flow2-24a971703e8dc25ef90a2afe8a3f27f1.jpg">Link to vertical view</a></p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1Ezv" id="preview-flow"></a>Preview Flow<a class="hash-link" href="#preview-flow" title="Direct link to heading">#</a></h2><p>The preview server is a headless chromium instance that generates screenshots and animations of items via puppeteer. It&#x27;s also in charge of generating unique trading cards for every NFT item minted. Here&#x27;s how it works:</p><ol><li>Start with user-agent (website or Discord bot) requesting a preview image.</li><li>Request gets sent to the preview server, checks S3 cache if there&#x27;s a preview already.</li><li>If there&#x27;s no preview, the server will ask the API about the token and fetch the IPFS content</li><li>The files from the IPFS hash get rendered using Puppeteer, exported as previews.</li></ol><p><img src="/assets/images/preview-flow-d0335e01f5f36cf1a12ba51486b9abd7.jpg">
<a target="_blank" href="/assets/files/preview-flow2-c34438e821e7ee2ca4faf20b4b99cdc2.jpg">Link to vertical view</a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-06-03T18:13:42.000Z" class="lastUpdatedDate_38YF">6/3/2021</time> by <strong>jin</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/create/hoverboards"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Hoverboards</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/developer/xrpackage-overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">What is XRPackage? Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2pwG thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#minting-flow" class="table-of-contents__link">Minting Flow</a></li><li><a href="#transfer-flow" class="table-of-contents__link">Transfer Flow</a></li><li><a href="#loading-flow" class="table-of-contents__link">Loading Flow</a></li><li><a href="#preview-flow" class="table-of-contents__link">Preview Flow</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Getting Started</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/create/mint">Minting</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/webaverse/faq">FAQ</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/R5wqYhvv53" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://github.com/webaverse" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/channel/UC1OkR65VUqZRM9qQPU4nZPQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://twitter.com/webaverse" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2021 Webaverse</div></div></div></footer></div>
<script src="/assets/js/runtime~main.49bbc157.js"></script>
<script src="/assets/js/main.537e196f.js"></script>
</body>
</html>